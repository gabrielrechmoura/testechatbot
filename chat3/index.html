<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Emoji de diamanete Diamond Bot</title>
  <link rel="stylesheet" href="../assets/css/header.css">
  <style> /*-- In√≠cio da se√ß√£o de estilos CSS */

    /* Estilo geral do corpo da p√°gina */
    body {  
      font-family: 'Segoe UI', sans-serif;  /* Define a fonte padr√£o */
      background: linear-gradient(to right, #fdf39c, #f2d673);  /* Fundo com gradiente azul */
      margin: 0;  /* Remove margens padr√£o */
    }

    main {
      display: flex;
      justify-content: center;
    }

    /* Estilo do container principal do chat */
    #chat {
      width: 600px;  /* Largura fixa */
      height: 700px;  /* Altura fixa */
      max-height: 90vh;  /* Altura m√°xima de 90% da tela */
      background: #fff;  /* Fundo branco */
      border-radius: 12px;  /* Bordas arredondadas */
      box-shadow: 0 0 15px rgba(0,0,0,0.2);  /* Sombra suave */
      display: flex;  /* Usa flexbox para organizar os elementos internos */
      flex-direction: column;  /* Organiza os filhos em coluna */
      overflow: hidden;  /* Esconde qualquer conte√∫do que ultrapasse */
    }

    /* Estilo do cabe√ßalho do chat */
    #header {
      background: #334194;  /* Cor de fundo azul */
      color: white;  /* Texto branco */
      padding: 15px;  /* Espa√ßamento interno */
      font-weight: bold;  /* Texto em negrito */
      font-size: 18px;  /* Tamanho da fonte */
    }

    /* √Årea onde as mensagens s√£o exibidas */
    #messages {
      flex: 1;  /* Ocupa todo o espa√ßo dispon√≠vel */
      padding: 15px;  /* Espa√ßamento interno */
      overflow-y: auto;  /* Habilita scroll vertical se necess√°rio */
      background: #f9f9f9;  /* Cor de fundo cinza claro */
    }

    /* Estilo base para todas as mensagens */
    .message {
      margin: 10px 0;  /* Espa√ßamento externo */
      max-width: 80%;  /* Largura m√°xima */
      padding: 10px 15px;  /* Espa√ßamento interno */
      border-radius: 20px;  /* Bordas arredondadas */
      line-height: 1.3;  /* Espa√ßamento entre linhas */
      word-wrap: break-word;  /* Quebra palavras longas */
      display: inline-block;  /* Permite que a largura se ajuste ao conte√∫do */
    }

    /* Estilo espec√≠fico para mensagens do bot */
    .bot {
      background: #e0f7fa;  /* Cor de fundo azul claro */
      color: #334194;  /* Cor do texto azul escuro */
      align-self: flex-start;  /* Alinha √† esquerda */
      border-bottom-left-radius: 0;  /* Remove arredondamento no canto inferior esquerdo */
    }


    /* Estilo espec√≠fico para mensagens do usu√°rio */
    .user {
      background: #334194;  /* Cor de fundo verde claro */
      color: #ffffff;  /* Cor do texto verde escuro */
      align-self: flex-end;  /* Alinha √† direita */
      border-bottom-right-radius: 0;  /* Remove arredondamento no canto inferior direito */
      text-align: right;  /* Alinha o texto √† direita */
    }

    /* √Årea de entrada de texto */
    #input-area {
      display: flex;  /* Organiza os elementos filhos em linha */
      border-top: 1px solid #ddd;  /* Linha divis√≥ria no topo */
    }

    /* Campo de entrada de texto */
    #userInput {
      flex: 1;  /* Ocupa todo o espa√ßo dispon√≠vel */
      border: none;  /* Remove borda */
      padding: 15px;  /* Espa√ßamento interno */
      font-size: 16px;  /* Tamanho da fonte */
      outline: none;  /* Remove contorno ao focar */
    }

    /* Estilo do bot√£o de enviar */
    button {
      background: #334194;  /* Cor de fundo azul */
      color: white;  /* Texto branco */
      border: none;  /* Remove borda */
      padding: 15px 20px;  /* Espa√ßamento interno */
      font-size: 16px;  /* Tamanho da fonte */
      cursor: pointer;  /* Muda cursor para pointer ao passar o mouse */
      transition: 0.3s;  /* Suaviza transi√ß√µes de estado */
    }

    /* Efeito hover no bot√£o */
    button:hover {
      background: #2a3f6b;  /* Cor mais escura ao passar o mouse */
    }

    /* Estilo dos bot√µes de op√ß√£o */
    .opcao-btn {
      background: #f1f8e9;  /* Cor de fundo verde muito claro */
      color: #33691e;  /* Cor do texto verde escuro */
      border-radius: 20px;  /* Bordas arredondadas */
      padding: 10px 15px;  /* Espa√ßamento interno */
      border: none;  /* Remove borda */
      cursor: pointer;  /* Muda cursor para pointer */
      font-weight: bold;  /* Texto em negrito */
      margin-top: 10px;  /* Espa√ßamento superior */
    }

    /* Efeito hover nos bot√µes de op√ß√£o */
    .opcao-btn:hover {
      background: #c8d4e6;  /* Cor de fundo mais escura ao passar o mouse */
    }
  </style>
</head>
<body>
    <header id="main-header">
        <div class="container">
            <h1>Portal de Chatbots</h1>
            <nav>
            <a href="../index.html">In√≠cio</a>
            <a href="../chat1_teddybot/index.html">Teddy Bot</a>
            <a href="../chat2_milkbot/index.html">Milk Bot</a>
            <a href="../chat3/index.html">Diamond Bot</a>
            <a href="../chat4/index.html">Chat 4 - Sem nome</a>
            <a href="../chat5-hortilar bot/hortlar.html">HortLar Bot</a>
            </nav>
        </div>
    </header>
  <script src="../assets/js/header.js"></script>

  <main>
    <!-- Container principal do chat -->
    <div id="chat">
      <!-- Cabe√ßalho com nome do bot -->
      <div id="header">üíé Chat Bot</div>
      
      <!-- √Årea de mensagens (cont√©m a mensagem inicial do bot) -->
      <div id="messages">
        <div class="message bot">Ol√°! Como posso te ajudar?</div>
      </div>
      
      <!-- √Årea de entrada de mensagens -->
      <div id="input-area">
        <!-- Campo de texto para o usu√°rio digitar -->
        <input type="text" id="userInput" placeholder="Digite aqui...">
        <!-- Bot√£o para enviar a mensagem -->
        <button onclick="sendMessage()">Enviar</button>
      </div>
    </div>
  </main>


  <!-- In√≠cio da se√ß√£o de JavaScript -->
  <script>

     /* Fun√ß√£o para enviar mensagem do usu√°rio e obter resposta do bot */
    function sendMessage() {
      const input = document.getElementById('userInput'); // Obt√©m o elemento de entrada de texto
      const msg = input.value.trim(); // Remove espa√ßos em branco no in√≠cio/fim e armazena a mensagem

      if (msg === "") return; // Se a mensagem estiver vazia, n√£o faz nada

      addMessage(msg, "user");  // Adiciona a mensagem do usu√°rio ao chat
      input.value = ""; // Limpa o campo de entrada

      const resposta = responder(msg);  // Obt√©m a resposta do bot para a mensagem do usu√°rio
      setTimeout(() => addMessage(resposta, "bot"), 500); // Adiciona a resposta do bot ap√≥s um pequeno atraso (500ms)
    }

    /* Fun√ß√£o que adiciona uma mensagem ao chat */
    function addMessage(text, type) {
      const messagesDiv = document.getElementById('messages');  // Obt√©m a div que cont√©m todas as mensagens

      const container = document.createElement('div');  // Cria um container para a mensagem (para controlar o alinhamento)
      container.style.display = 'flex';
      container.style.justifyContent = type === 'user' ? 'flex-end' :  'flex-start';  // Alinha √† direita para mensagens do usu√°rio, esquerda para o bot

      const div = document.createElement('div');  // Cria a div que vai conter o texto da mensagem
      div.className = 'message ' + type;  // Adiciona classes CSS

      // Se for mensagem do bot, converte quebras de linha para tags <br>
      if (type === 'bot') { 
        div.innerHTML = text.replace(/\n/g, "<br>"); // quebra linha s√≥ nas mensagens do bot
      } else {
        div.textContent = text; // Mensagens do usu√°rio usam textContent para seguran√ßa
      }

      // Adiciona a mensagem ao container e o container √† √°rea de mensagens
      container.appendChild(div);
      messagesDiv.appendChild(container);
      messagesDiv.scrollTop = messagesDiv.scrollHeight; // Rola automaticamente para a √∫ltima mensagem
    }

    /* Fun√ß√£o da L√≥gica principal do bot - responde √†s mensagens do usu√°rio */
    function responder(msg) {
      msg = msg.toLowerCase();  // Converte a mensagem para min√∫sculas para facilitar a compara√ß√£o

      // Se a mensagem incluir hora
      if (msg.includes("hora")) {
        const agora = new Date();
        return `Agora s√£o ${agora.getHours()}h${agora.getMinutes().toString().padStart(2, '0')}m`;
      }

      // Se a mensagem incluir dia
      if (msg.includes("dia") && msg.includes("hoje")) {
        const agora = new Date();
        const diasSemana = ["domingo", "segunda-feira", "ter√ßa-feira", "quarta-feira", "quinta-feira", "sexta-feira", "s√°bado"];
        const meses = ["janeiro", "fevereiro", "mar√ßo", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro"];

        const diaSemana = diasSemana[agora.getDay()];
        const dia = agora.getDate();
        const mes = meses[agora.getMonth()];
        const ano = agora.getFullYear();

        return `Hoje √© ${diaSemana}, ${dia} de ${mes} de ${ano}.`;
      }

      const respostasFixas01 = {  
        "bom dia": "bom dia! como voc√™ esta?",
        "boa tarde": "boa tarde! como voc√™ esta?",
        "boa noite": "boa noite! como voc√™ esta?",
      };

      if (respostasFixas01[msg]) {
        return respostasFixas01[msg];
      }

      const respostasFixas02 = {  
        "oi": "oi, tudo certo?",
        "oie": "oi, tudo certo?",
        "opa": "oi, tudo certo?",
        "oii": "oi, tudo certo?",
        "ol√°": "oi, tudo certo?",
        "ola": "oi, tudo certo?",
      };

      if (respostasFixas02[msg]){
        return respostasFixas02[msg];
      }

      const respostasFixas03 = {
        "tudo certo, e com voc√™?": "estou bem tamb√©m, oque voc√™ deseja?",
        "tudo certo, e com voc√™": "estou bem tamb√©m, oque voc√™ deseja?",
        "tudo bem, e com voc√™?": "estou bem tamb√©m, oque voc√™ deseja?",
        "tudo bem, e com voc√™": "estou bem tamb√©m, oque voc√™ deseja?",
      };

      if (respostasFixas03[msg]) {
        return respostasFixas03[msg];
      }

    // Perguntas do usu√°rio e respostas do ChatBot
      if (msg.includes("estoque") && msg.includes("s√©rum") && msg.includes("facial")) {
        return `Temos 10 unidads do s√©rum facial.`
      }

      if (msg.includes("vendidos") && msg.includes("ultima") && msg.includes("semana") && msg.includes("produtos")) {
        return `Hidratante l√°bial, m√°scara anti rugas e protetor solar FPS80.`
      }

      if (msg.includes("entregas") && msg.includes("fornecedores") && msg.includes("atraso")) {
        return `N√£o, todos os fornecedors est√£o entregando no prazo.`
      }

      if (msg.includes("promo√ß√£o") && msg.includes("estoque") && msg.includes("produtos") && msg.includes("girar")) {
        return `Sugiro perfumes femininos e sombras unit√°rias`
      }

      if (msg.includes("venda") && msg.includes("campanha") && msg.includes("marketing")) {
        return `A base Glow teve um aumento de 35%.`
      }

      if (msg.includes("clientes") && msg.includes("pedindo") && msg.includes("estoque")) {
        return `Sim, tivemos pedido de √°gua micelar.`
      }

      if (msg.includes("proximo") && msg.includes("vencimento")) {
        return `Sim, os hidratantes corporais est√£o com vencimento para os pr√≥ximos 6 meses.`
      }

      if (msg.includes("pedido") && msg.includes("mascaras") && msg.includes("cilios")) {
        return `Sim, foi confirmado ontem, com previs√£o para chegar na pr√≥xima semana.`
      }

      if (msg.includes("batons") && msg.includes("remessa") && msg.includes("matte")) {
        return `O pedido j√° foi enviado e tem previs√£o de chegada em 3 dias.`
      }

      if (msg.includes("categoria") && msg.includes("baixa") && msg.includes("saida")) {
        return `Sim, as m√°scaras de remover cravos est√£o com baixa sa√≠da.`
      }

    // Respostas do usu√°rio e do ChatBot
      if (msg.includes("ultima") && msg.includes("compra") && msg.includes("quando")) {
        return `Ultima reposi√ß√£o 23/03/2025`
      }

      if (msg.includes("ok") && msg.includes("obrigado") && msg.includes("obrigada")) {
        return `Se precisar de mais detalhes me avise`
      }

      if (msg.includes("√≥timo") && msg.includes("obrigado") && msg.includes("obrigado")) {
        return `Se precisar de mais detalhes me avise`
      }

      if (msg.includes("calcule") && msg.includes("possivel") && msg.includes("valor") && msg.includes("oferta")) {
        return `‚ñ™Ô∏è Sombra: R$22,90
        ‚ñ™Ô∏è Perfume: R$160,00`
      }

      if (msg.includes("aumento") && msg.includes("impulsionado") && msg.includes("redes") && msg.includes("socias")) {
        return `A maior parte veio do site e do instagram.`
      }

      if (msg.includes("identifique") && msg.includes("marca") && msg.includes("especifico")) {
        return `√Ågua micelar da BioDerma que remove maquiagem.`
      }

      if (msg.includes("fazer") && msg.includes("rela√ß√£o") && msg.includes("isso")) {
        return `Podemos criar uma oferta para o dia das m√£es`
      }

      if (msg.includes("fornecedor") && msg.includes("mensionou") && msg.includes("vers√µes")) {
        return `Sim, todas as vers√µes foram confirmadas.`
      }

      if (msg.includes("risco") && msg.includes("atraso") && msg.includes("entrega") && msg.includes("prazo")) {
        return `O fornecedor alertou que pode haver atraso de 2 dias.`
      }

      if (msg.includes("motivo") && msg.includes("baixa") && msg.includes("saida") && msg.includes("mascaras")) {
        return `A an√°lise indica que h√° pouca divulga√ß√£o.`
      }

      return `N√£o entendi o que foi dito`
    };
      
    /* Fun√ß√£o que Mostra bot√µes com op√ß√µes de benef√≠cios */
    function mostrarBotoesMaisOpcoes() {
      const messagesDiv = document.getElementById("messages");

      // Bot√µes de op√ß√µes de benef√≠cios
      const opcoes = [
        { 
          texto: "", 
          resposta: "" },
        { 
          texto: "", 
          resposta: "" },
        { 
          texto: "", 
          resposta: "" },
        { 
          texto: "", 
          resposta: ""},
        { 
          texto: "", 
          resposta: ""},
        { 
          texto: "", 
          resposta: "" }
      ];
      
      // Cria container para os bot√µes
      const container = document.createElement("div");
      container.style.display = "flex";
      container.style.flexDirection = "column";
      container.style.rowgap = "10px";
      container.style.marginTop = "10px"; 
      
      // Cria um bot√£o para cada op√ß√£o
      opcoes.forEach(opcao => {
        const btn = document.createElement("button");
        btn.className = "opcao-btn";
        btn.textContent = opcao.texto;
        btn.onclick = () => {
          addMessage(opcao.texto, "user");  // Adiciona a op√ß√£o selecionada como mensagem do usu√°rio
          
          // Se clicou em "Nada, obrigado", apenas remove os bot√µes
          if (opcao.texto === "‚ùå Ok") {
            container.remove();
            return; // ‚Üê impede que o restante do c√≥digo rode
          }

          addMessage(opcao.resposta, "bot");
          container.remove();

          // Cria bot√µes de a√ß√£o ap√≥s selecionar uma op√ß√£o
          const novoContainer = document.createElement("div");
          novoContainer.style.display = "flex";
          novoContainer.style.gap = "10px";
          novoContainer.style.marginTop = "10px";
          
          // Bot√£o para ver outras op√ß√µes
          const repetirBtn = document.createElement("button");
          repetirBtn.className = "opcao-btn";
          repetirBtn.style.marginTop = "10px";
          repetirBtn.textContent = "üîÅ Ver outros benef√≠cios";
          repetirBtn.onclick = () => {
            addMessage("Ver outros benef√≠cios", "user");
            novoContainer.remove();
            mostrarBotoesMaisOpcoes(); // Mostra os bot√µes novamente
          };
          
          // Bot√£o para encerrar
          const naoBtn = document.createElement("button");
          naoBtn.className = "opcao-btn";
          naoBtn.textContent = "‚ùå Ok";
          naoBtn.onclick = () => {
            addMessage("N√£o, obrigado", "user");
            novoContainer.remove();
          };
          
          // Adiciona os bot√µes ao container e ao chat
          novoContainer.appendChild(repetirBtn);
          novoContainer.appendChild(naoBtn);
          messagesDiv.appendChild(novoContainer);
          messagesDiv.scrollTop = messagesDiv.scrollHeight;
        };


        container.appendChild(btn);
      });
      
      // Adiciona os bot√µes ao chat
      messagesDiv.appendChild(container);
      messagesDiv.scrollTop = messagesDiv.scrollHeight;
    }

    // Permite enviar mensagem pressionando Enter
    document.getElementById("userInput").addEventListener("keypress", function(event) {
      if (event.key === "Enter") {
        event.preventDefault(); // Evita o comportamento padr√£o do Enter
        sendMessage();  // Chama a fun√ß√£o de enviar mensagem
      }
    });
  </script>
</body>
</html>